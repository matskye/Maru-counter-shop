<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Maru's Counter Shop</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <h1>Maru's Counter Shop</h1>
      <p class="subtitle">Master Japanese counters with Maru!</p>
    </header>

    <main id="game" class="game-panel">
      <section class="customer-card">
        <div id="customer" class="speech-bubble">「---」</div>
        <button id="replayVoiceBtn" class="ghost inline">🔁 Replay audio</button>
        <div id="maruReaction" class="reaction"></div>
        <div id="feedback" class="feedback" aria-live="polite"></div>
        <button id="toggleHintBtn" class="ghost inline" aria-expanded="false" aria-controls="counterHint">💡 Show hint</button>
        <div id="counterHint" class="hint-window"></div>
      </section>

      <section class="status-bar" aria-live="polite">
        <div class="status-chip" id="modeStatus">Practice mode</div>
        <div class="status-chip" id="challengeStatus" hidden>
          <span>Round <span id="challengeRound">1</span> / 10</span>
          <span aria-hidden="true">·</span>
          <span>Score <span id="challengeScore">0</span></span>
        </div>
        <div class="status-chip" id="streakStatus">Current streak: <span id="streakCount">0</span></div>
      </section>

      <section class="play-area">
        <div class="panel">
          <h2 class="section-title">Shelf</h2>
          <div id="shelf" class="shelf-grid"></div>
        </div>

        <div class="panel">
          <h2 class="section-title">Counter</h2>
          <div id="counter" class="dropzone">
            <span class="drop-hint">Drag or click items to add</span>
          </div>
        </div>
      </section>

      <section id="controls" class="controls">
        <button id="doneBtn" class="primary">Done!</button>
        <button id="startPractice">Practice Mode</button>
        <button id="startChallenge">Challenge Mode</button>
        <button id="settingsBtn" class="ghost">⚙️ Settings</button>
      </section>

      <section class="learn-more">
        <details id="howToPlay">
          <summary>How to play &amp; study tips</summary>
          <ol>
            <li>Listen to Maru&rsquo;s request or read the speech bubble.</li>
            <li>Drag or click items from the shelf that match the counter being used.</li>
            <li>Use the <em>Done!</em> button to check your answer and keep your streak going.</li>
          </ol>
          <p>
            Need a hand? Toggle the hint to learn what a counter is used for, or replay the voice prompt as many times as
            you like. Challenge mode runs for ten rounds&mdash;aim for a perfect score!
          </p>
        </details>
      </section>
    </main>
  </div>

  <!-- Settings modal -->
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <h2>Settings</h2>
      <label>
        <input type="checkbox" id="furiganaCheckbox"> Show Furigana
      </label>
      <br>
      <label>
        <input type="checkbox" id="voiceCheckbox"> Enable Voice
      </label>
      <br><br>
      <button id="closeSettings">Close</button>
    </div>
  </div>

  <script src="game.js"></script>
</body>
</html>
